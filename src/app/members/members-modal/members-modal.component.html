<h2 mat-dialog-title>{{ data.title }}</h2>
<mat-dialog-content class="mat-typography">
  <form
    class="container-fluid scrollable"
    [formGroup]="membersForm"
    (ngSubmit)="onSubmit()"
  >
    <div class="row">
      <div class="col">
        <div class="avatar-wrapper" (click)="file.click()">
          <img
            appImgPreview
            [image]="avatar"
            src="assets/img/avatar.jpg"
            class="avatar"
          />
          <div class="avatar-text">Upload image</div>
        </div>
        <input
          #file
          type="file"
          ng2FileSelect
          [uploader]="uploader"
          class="disp-none"
        />
      </div>
    </div>

    <div class="row mt-3">
      <mat-form-field class="col">
        <input
          matInput
          type="text"
          placeholder="Firstname"
          formControlName="firstname"
          maxlength="50"
          class="text-capitalize"
        />
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field class="col">
        <input
          matInput
          type="text"
          placeholder="Middlename"
          formControlName="middlename"
          maxlength="50"
          class="text-capitalize"
        />
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field class="col-7">
        <input
          matInput
          type="text"
          placeholder="Lastname"
          formControlName="lastname"
          maxlength="50"
          class="text-capitalize"
        />
      </mat-form-field>

      <mat-form-field class="col-5">
        <mat-select placeholder="Suffix" formControlName="suffix">
          <mat-option *ngFor="let suffix of suffixes" [value]="suffix.value">{{
            suffix.name
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field class="col-7">
        <mat-label>Committee</mat-label>
        <mat-select formControlName="committees" multiple>
          <mat-option
            *ngFor="let committee of allCommittees"
            [value]="committee.id"
            >{{ committee.name }}</mat-option
          >
        </mat-select>
      </mat-form-field>

      <mat-form-field class="col-5">
        <mat-select placeholder="Current Member" formControlName="is_current">
          <mat-option value="1">Yes</mat-option>
          <mat-option value="0">No</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <mat-dialog-actions class="mt-3">
      <button mat-button mat-dialog-close class="btn-cancel">Cancel</button>
      <button
        mat-button
        type="submit"
        [disabled]="!membersForm.valid"
        class="btn-save"
      >
        {{ data.action === "update" ? data.action : "Save" }}
      </button>
    </mat-dialog-actions>
  </form>
</mat-dialog-content>
