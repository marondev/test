<h2 mat-dialog-title>
  <i class="material-icons" style="font-size: 0.8em">{{ titleIcon }}</i>
  {{ data.title }}
</h2>

<mat-dialog-content class="mat-typography">
  <form
    class="container-fluid scrollable"
    [formGroup]="userForm"
    (ngSubmit)="onSubmit()"
  >
    <div class="row">
      <div class="col">
        <div class="avatar-wrapper" (click)="file.click()">
          <img
            appImgPreview
            [image]="avatar"
            src="assets/img/avatar.jpg"
            class="avatar"
          />
          <div class="avatar-text">Upload image</div>
        </div>
        <input
          #file
          type="file"
          ng2FileSelect
          [uploader]="uploader"
          accept="image/*"
          class="disp-none"
        />
      </div>
    </div>

    <div class="row mt-3">
      <mat-form-field class="col">
        <input
          matInput
          type="text"
          placeholder="Name"
          formControlName="fullname"
          maxlength="100"
          class="text-capitalize"
        />
      </mat-form-field>
    </div>

    <div class="row">
      <mat-form-field class="col-6">
        <input
          matInput
          type="text"
          placeholder="Username"
          formControlName="username"
          maxlength="80"
        />
      </mat-form-field>

      <mat-form-field class="col-6">
        <input
          matInput
          type="text"
          placeholder="Password"
          formControlName="password"
          maxlength="80"
        />
      </mat-form-field>
    </div>

    <mat-dialog-actions class="mt-3">
      <button mat-button mat-dialog-close class="btn-cancel">
        {{ data.action == "view" ? "Close" : "Cancel" }}
      </button>
      <button
        mat-button
        type="submit"
        [disabled]="!userForm.valid"
        *ngIf="data.action != 'view'"
        class="btn-save"
      >
        {{ data.action === "update" ? data.action : "Save" }}
      </button>
    </mat-dialog-actions>
  </form>
</mat-dialog-content>
